<!DOCTYPE html>
<html>
<head>
    <title>require.js: urlTransform + toUrl Test</title>
    <script type="text/javascript" src="doh/runner.js"></script>
    <script type="text/javascript" src="doh/_browserRunner.js"></script>
    <script type="text/javascript" src="../require.js"></script>
    <script type="text/javascript">
    require.config({
        baseUrl: 'js',
        transformUrl: function(url, module) {
            var PATTERN = /\.js$/;
            if (PATTERN.test(url)) {
                return url.replace(PATTERN, '.en.js');
            }
        }
    });

    doh.register(
        'urlTransformToUrl',
        [
            function urlTransformToUrl(t){
                t.is('js/view.en.js', require.toUrl('view.js'));
            }
        ]
    );
    doh.run();
</script>
</head>
<body>
    <h1>require.js: urlTransform + toUrl Test</h1>
    <p>Makes sure transformUrl is applied correctly.</p>
    <p>Check console for messages.</p>
</body>
</html>
